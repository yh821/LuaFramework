---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by yuanhuan.
--- DateTime: 2023/10/26 10:12
---

---@class parallelNode : CompositeNode
parallelNode = BaseClass(CompositeNode)

function parallelNode:Tick(delta_time)
    local state = eNodeState.success
    if self.children then
        for _, v in ipairs(self.children) do
            local will_abort = self:GetAbortType() ~= eAbortType.None and v:IsCondition()
            if v.state == nil or will_abort or v.state == eNodeState.running then
                v.state = v:Tick(delta_time)
                if v.state == eNodeState.failure then
                    state = eNodeState.failure
                end
            end
        end
    end
    return state
end